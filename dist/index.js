/*! For license information please see index.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react-native"),require("react")):"function"==typeof define&&define.amd?define(["react-native","react"],t):"object"==typeof exports?exports.Modal=t(require("react-native"),require("react")):e.Modal=t(e["React Native"],e.React)}(self,((e,t)=>(()=>{"use strict";var r={251:(e,t,r)=>{var o=r(899),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,r){var o,s={},l=null,u=null;for(o in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,o)&&!c.hasOwnProperty(o)&&(s[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===s[o]&&(s[o]=t[o]);return{$$typeof:n,type:e,key:l,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=l,t.jsxs=l},893:(e,t,r)=>{e.exports=r(251)},607:function(e,t,r){var o=this&&this.__rest||function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]])}return r};Object.defineProperty(t,"__esModule",{value:!0}),t.Config=void 0;const n=r(893),s=r(899),i=r(670);t.Config=e=>{var{children:t}=e,r=o(e,["children"]);const a=(0,s.useContext)(i.WhithModalContext),[c,l]=(0,s.useState)(!1);return(0,s.useLayoutEffect)((()=>{a.setConfig(Object.assign({},r))}),[r.title,r.disableClose]),(0,s.useLayoutEffect)((()=>{requestAnimationFrame((()=>l(!0)))}),[]),a.footerRef&&a.footerRef.current||c?(0,n.jsx)(n.Fragment,{children:"function"==typeof t?t(a):t}):null}},1:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;const o=r(893),n=r(899),s=r(709),i=r(257),a=(0,n.forwardRef)(((e,t)=>{const{children:r,style:a,backdropColor:c="#00000090",backgroundColor:l="#FFFFFF",name:u,title:d,transparent:f=!0,disableClose:h=!1,backgroundClose:p=!0,hideCloseButton:v=!1,statusBarTranslucent:b=!0,theme:y="light",effect:O="fade",render:j,onHide:g}=e,x=(0,n.useRef)(!1),[C,w]=(0,n.useState)(!1),P=(0,n.useContext)(i.ProviderContext),m=()=>{w(!0)},_=()=>{w(!1)},M=()=>{h||_()};(0,n.useEffect)((()=>{x.current=C,C||null==g||g()}),[C]),(0,n.useEffect)((()=>()=>{x.current=!1}),[]),(0,n.useLayoutEffect)((()=>{P.push(u,{show:m,hide:_,showStatus:x})}),[]),(0,n.useImperativeHandle)(t,(()=>({show:m,hide:M})));const R=Object.assign(Object.assign({},e),{show:m,hide:M});return(0,o.jsx)(o.Fragment,{children:C&&(0,o.jsx)(s.Modal,{onRequestClose:M,transparent:f,animationType:O,statusBarTranslucent:b,children:"function"==typeof j?j(R):(0,o.jsx)(s.Pressable,{android_disableSound:!0,style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:c},onPress:()=>{p&&M()},children:(0,o.jsx)(s.View,{style:[{width:"80%",backgroundColor:l,padding:10,borderRadius:3},a],children:r})})})})}));t.Container=a},257:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.staticAction=t.ProviderContext=t.Provider=void 0;const o=r(893),n=r(899),s=(0,n.createRef)();t.staticAction=s;const i=(0,n.createContext)({push:()=>{},count:()=>0,modals:null});t.ProviderContext=i,t.Provider=({children:e,SPA:t=!1})=>{const r=(0,n.useRef)({}),a=(0,n.useRef)(null),c=e=>{e in r.current&&r.current[e].show()},l=e=>{e&&e in r.current?r.current[e].hide():Object.keys(r.current).forEach(l)};return(0,n.useImperativeHandle)(s,(()=>({show:c,hide:l}))),(0,o.jsx)(i.Provider,{value:{push:(e,t)=>{r.current[e]=t},modals:a,count:()=>Object.values(r.current).filter((e=>!0===e.showStatus.current)).length},children:e})}},629:function(e,t,r){var o=this&&this.__rest||function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]])}return r};Object.defineProperty(t,"__esModule",{value:!0}),t.ModalConfig=t.ModalProvider=t.useModal=t.withModal=void 0;const n=r(893),s=r(899),i=r(1),a=r(607);Object.defineProperty(t,"ModalConfig",{enumerable:!0,get:function(){return a.Config}});const c=r(257);Object.defineProperty(t,"ModalProvider",{enumerable:!0,get:function(){return c.Provider}});const l=r(670);Object.defineProperty(t,"withModal",{enumerable:!0,get:function(){return l.withModal}});const u=r(325);Object.defineProperty(t,"useModal",{enumerable:!0,get:function(){return u.useModal}});const d=Object.assign(Object.assign({},(0,s.forwardRef)(((e,t)=>{var r=o(e,[]);return(0,n.jsx)(i.Container,Object.assign({},r,{ref:t}))}))),{Provider:c.Provider,Config:a.Config,show:e=>c.staticAction.current.show(e),hide:e=>c.staticAction.current.hide(e),withModal:l.withModal,useModal:u.useModal});t.default=d},325:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useModal=void 0;const o=r(899),n=r(670);t.useModal=(e,t=[])=>{const{setConfig:r,show:s,hide:i,state:a}=(0,o.useContext)(n.WhithModalContext);return(0,o.useLayoutEffect)((()=>{e&&r(e)}),t),{show:s,hide:i,setConfig:r,state:a}}},670:function(e,t,r){var o=this&&this.__rest||function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]])}return r};Object.defineProperty(t,"__esModule",{value:!0}),t.withModal=t.WhithModalContext=void 0;const n=r(893),s=r(899),i=r(1);t.WhithModalContext=(0,s.createContext)({setConfig:()=>{},state:{},footerRef:null,show:()=>{},hide:()=>{}}),t.withModal=(e,r)=>{const a=(0,s.createRef)(),c=()=>{var e;null===(e=a.current)||void 0===e||e.show()},l=()=>{var e;null===(e=a.current)||void 0===e||e.hide()};return Object.assign(Object.assign({},(0,s.forwardRef)(((u,d)=>{var f,h,p,v=o(u,[]);const b=(0,s.useRef)(null),[y,O]=(0,s.useState)(),j=(0,s.useId)(),[g,x]=(0,s.useState)(r);return(0,s.useImperativeHandle)(a,(()=>Object.assign(Object.assign({},b.current),{setState:O}))),(0,n.jsx)(t.WhithModalContext.Provider,{value:{setConfig:e=>{x((t=>Object.assign(Object.assign({},t),e)))},state:y,footerRef:null===(f=b.current)||void 0===f?void 0:f.footerRef,show:c,hide:l},children:(0,n.jsx)(i.Container,Object.assign({name:null!==(h=null==g?void 0:g.name)&&void 0!==h?h:j,title:null!==(p=null==g?void 0:g.title)&&void 0!==p?p:""},g,{ref:b,children:(0,n.jsx)(e,Object.assign({},v,{ref:d}))}))})}))),{show:c,hide:l,setState:e=>{"function"==typeof a.current.setState&&a.current.setState(e)}})}},709:t=>{t.exports=e},899:e=>{e.exports=t}},o={};return function e(t){var n=o[t];if(void 0!==n)return n.exports;var s=o[t]={exports:{}};return r[t].call(s.exports,s,s.exports,e),s.exports}(629)})()));
//# sourceMappingURL=index.js.map